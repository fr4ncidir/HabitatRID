\section{serial.\+c File Reference}
\label{serial_8c}\index{serial.\+c@{serial.\+c}}
{\ttfamily \#include \char`\"{}serial.\+h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int {\bf open\+\_\+serial} (const char name[$\,$], const {\bf Serial\+Options} options)
\item 
int {\bf read\+\_\+nbyte} (int file\+\_\+descriptor, size\+\_\+t fixed\+\_\+lenght, void $\ast$buffer)
\item 
int {\bf read\+\_\+nbyte\+\_\+packet} (int file\+\_\+descriptor, size\+\_\+t fixed\+\_\+lenght, void $\ast$buffer, uint8\+\_\+t start\+Byte)
\item 
int {\bf read\+\_\+until\+\_\+terminator} (int file\+\_\+descriptor, size\+\_\+t max\+\_\+dim, void $\ast$buffer, uint8\+\_\+t terminator)
\item 
int {\bf write\+\_\+serial} (int file\+\_\+descriptor, size\+\_\+t lenght, void $\ast$buffer)
\item 
int {\bf send\+\_\+packet} (const int serial\+\_\+descriptor, const uint8\+\_\+t packet[$\,$], const size\+\_\+t dim, const char error\+\_\+msg[$\,$])
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{serial.\+c@{serial.\+c}!open\+\_\+serial@{open\+\_\+serial}}
\index{open\+\_\+serial@{open\+\_\+serial}!serial.\+c@{serial.\+c}}
\subsubsection[{open\+\_\+serial(const char name[], const Serial\+Options options)}]{\setlength{\rightskip}{0pt plus 5cm}int open\+\_\+serial (
\begin{DoxyParamCaption}
\item[{const char}]{name[$\,$], }
\item[{const {\bf Serial\+Options}}]{options}
\end{DoxyParamCaption}
)}\label{serial_8c_ac209470d5ede6c6eab4ec2ab75baa673}
\doxyref{serial.\+c}{p.}{serial_8c} \begin{DoxyAuthor}{Author}
Francesco Antoniazzi 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\+9 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
20 oct 2016 
\end{DoxyDate}
\index{serial.\+c@{serial.\+c}!read\+\_\+nbyte@{read\+\_\+nbyte}}
\index{read\+\_\+nbyte@{read\+\_\+nbyte}!serial.\+c@{serial.\+c}}
\subsubsection[{read\+\_\+nbyte(int file\+\_\+descriptor, size\+\_\+t fixed\+\_\+lenght, void $\ast$buffer)}]{\setlength{\rightskip}{0pt plus 5cm}int read\+\_\+nbyte (
\begin{DoxyParamCaption}
\item[{int}]{file\+\_\+descriptor, }
\item[{size\+\_\+t}]{fixed\+\_\+lenght, }
\item[{void $\ast$}]{buffer}
\end{DoxyParamCaption}
)}\label{serial_8c_a447cbfffa2fc3978d73f7fed8579c6d6}
fixed\+\_\+read reads a certain number of bytes from the serial port 
\begin{DoxyParams}{Parameters}
{\em file\+\_\+descriptor} & is the identifier for the serial port \\
\hline
{\em fixed\+\_\+lenght} & is the exact number of bytes to be read \\
\hline
{\em buffer} & is the place to store the bytes read \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
E\+X\+I\+T\+\_\+\+F\+A\+I\+L\+U\+RE or E\+X\+I\+T\+\_\+\+S\+U\+C\+C\+E\+SS 
\end{DoxyReturn}
\index{serial.\+c@{serial.\+c}!read\+\_\+nbyte\+\_\+packet@{read\+\_\+nbyte\+\_\+packet}}
\index{read\+\_\+nbyte\+\_\+packet@{read\+\_\+nbyte\+\_\+packet}!serial.\+c@{serial.\+c}}
\subsubsection[{read\+\_\+nbyte\+\_\+packet(int file\+\_\+descriptor, size\+\_\+t fixed\+\_\+lenght, void $\ast$buffer, uint8\+\_\+t start\+Byte)}]{\setlength{\rightskip}{0pt plus 5cm}int read\+\_\+nbyte\+\_\+packet (
\begin{DoxyParamCaption}
\item[{int}]{file\+\_\+descriptor, }
\item[{size\+\_\+t}]{fixed\+\_\+length, }
\item[{void $\ast$}]{buffer, }
\item[{uint8\+\_\+t}]{start}
\end{DoxyParamCaption}
)}\label{serial_8c_acbe341fac78dc3ef373d79e8fbb2e981}
read\+\_\+serial\+\_\+packet reads a packet from serial port. The packet is identified with a starting byte. So, while reading the first time, we ignore all is coming before this packet and then we start read packet-\/by-\/packet. The packet has a fixed lenght. 
\begin{DoxyParams}{Parameters}
{\em file\+\_\+descriptor} & is the identifier for the serial port \\
\hline
{\em fixed\+\_\+length} & is the exact number of bytes to be read \\
\hline
{\em buffer} & is the place to store the bytes read \\
\hline
{\em start} & is the starting byte of the packet \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
E\+X\+I\+T\+\_\+\+F\+A\+I\+L\+U\+RE, E\+X\+I\+T\+\_\+\+S\+U\+C\+C\+E\+SS or N\+O\+\_\+\+P\+A\+C\+K\+ET 
\end{DoxyReturn}
\index{serial.\+c@{serial.\+c}!read\+\_\+until\+\_\+terminator@{read\+\_\+until\+\_\+terminator}}
\index{read\+\_\+until\+\_\+terminator@{read\+\_\+until\+\_\+terminator}!serial.\+c@{serial.\+c}}
\subsubsection[{read\+\_\+until\+\_\+terminator(int file\+\_\+descriptor, size\+\_\+t max\+\_\+dim, void $\ast$buffer, uint8\+\_\+t terminator)}]{\setlength{\rightskip}{0pt plus 5cm}int read\+\_\+until\+\_\+terminator (
\begin{DoxyParamCaption}
\item[{int}]{file\+\_\+descriptor, }
\item[{size\+\_\+t}]{max\+\_\+dim, }
\item[{void $\ast$}]{buffer, }
\item[{uint8\+\_\+t}]{terminator}
\end{DoxyParamCaption}
)}\label{serial_8c_a5813b5c5b7d9df7a73f8f94a072131cd}
reads the serial byte by byte, until it reaches max dimention of the buffer, or it reads the specified terminator. 
\begin{DoxyParams}{Parameters}
{\em file\+\_\+descriptor} & is the identifier for the serial port \\
\hline
{\em max\+\_\+dim} & is the maximum size of the storage buffer \\
\hline
{\em buffer} & is the storage buffer \\
\hline
{\em terminator} & is the stop-\/read byte \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
E\+R\+R\+OR or the number of bytes read, terminator included 
\end{DoxyReturn}
\index{serial.\+c@{serial.\+c}!send\+\_\+packet@{send\+\_\+packet}}
\index{send\+\_\+packet@{send\+\_\+packet}!serial.\+c@{serial.\+c}}
\subsubsection[{send\+\_\+packet(const int serial\+\_\+descriptor, const uint8\+\_\+t packet[], const size\+\_\+t dim, const char error\+\_\+msg[])}]{\setlength{\rightskip}{0pt plus 5cm}int send\+\_\+packet (
\begin{DoxyParamCaption}
\item[{const int}]{serial\+\_\+descriptor, }
\item[{const uint8\+\_\+t}]{packet[$\,$], }
\item[{const size\+\_\+t}]{dim, }
\item[{const char}]{error\+\_\+msg[$\,$]}
\end{DoxyParamCaption}
)}\label{serial_8c_a35b1a29004265c3fe5382c05f3e1a69e}
Sends an array of characters to a serial port. If it fails, it prints an error message 
\begin{DoxyParams}{Parameters}
{\em serial\+\_\+descriptor} & the descriptor of the serial port \\
\hline
{\em packet} & the array containing the packet \\
\hline
{\em dim} & usually is packet\+\_\+dimension\+\_\+in\+\_\+bytes$\ast$sizeof(uint8\+\_\+t) \\
\hline
{\em error\+\_\+msg} & a string containing an error message \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
E\+X\+I\+T\+\_\+\+S\+U\+C\+C\+E\+SS or E\+X\+I\+T\+\_\+\+F\+A\+I\+L\+U\+RE 
\end{DoxyReturn}
\index{serial.\+c@{serial.\+c}!write\+\_\+serial@{write\+\_\+serial}}
\index{write\+\_\+serial@{write\+\_\+serial}!serial.\+c@{serial.\+c}}
\subsubsection[{write\+\_\+serial(int file\+\_\+descriptor, size\+\_\+t lenght, void $\ast$buffer)}]{\setlength{\rightskip}{0pt plus 5cm}int write\+\_\+serial (
\begin{DoxyParamCaption}
\item[{int}]{file\+\_\+descriptor, }
\item[{size\+\_\+t}]{length, }
\item[{void $\ast$}]{buffer}
\end{DoxyParamCaption}
)}\label{serial_8c_ac6c3ebd85e1647e7f72e0e35b3d8b62d}
write\+\_\+serial writes to a serial port previously opened a precise number of bytes. 
\begin{DoxyParams}{Parameters}
{\em file\+\_\+descriptor} & is the identifier for the serial port \\
\hline
{\em length} & is the length of the item to be sent out \\
\hline
{\em buffer} & is a pointer to the item to be sent out \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
E\+X\+I\+T\+\_\+\+F\+A\+I\+L\+U\+RE or E\+X\+I\+T\+\_\+\+S\+U\+C\+C\+E\+SS 
\end{DoxyReturn}
